pipeline{
    agent any
    stages{
        stage('deploy'){
            steps{
                echo '## Cloning project from remote...'
                nodejs('Node-14.9.0'){
                    sh """
                            mkdir -p /home/deployments/
                            cd /home/deployments/
                            rm -rf gallery_app
                            git clone https://fchirchir:Chirchir.2015@github.com/fchirchir/gallery_app.git
                            cd gallery_app
                            heroku git:remote -a gallery-friday
                            git push --force heroku master
                        """
                }
            }
        }
    }
}